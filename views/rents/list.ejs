<%- include("../partials/header.ejs"); %>

<div class="container mt-5">
    <div class="row">
        <% for (let rent of rents) { %>
            <div class="col-md-4 mb-4">
                <div class="card h-100 shadow-sm">
                    <div class="card-header bg-primary text-white">
                        Rental ID: <%= rent.rentID %>
                    </div>
                    <div class="card-body">
                        <h6 class="card-subtitle mb-2 text-muted">Car ID: <a href="/cars/<%= rent.carID %>"><%= rent.carID %></a></h6>
                        <h6 class="card-subtitle mb-2 text-muted">Profile ID: <a href="/profiles/<%= rent.profileID %>"><%= rent.profileID %></a></h6>
                        <div class="card-text">
                            <p><strong>Pick-up Date:</strong> <%= new Date(rent.tookDate).toISOString().split('T')[0] %></p>
                            <p><strong>Due Date:</strong> <%= new Date(rent.dueDate).toISOString().split('T')[0] %></p>
                            <p><strong>Price:</strong> <%= parseFloat(rent.price).toFixed(2) %> â‚¬</p>
                            <p><strong>Return Date:</strong> <%= rent.returnedDate ? new Date(rent.returnedDate).toISOString().split('T')[0] : 'Not Returned' %></p>
                            <p><strong>Return Condition:</strong> <%= typeof rent.returnedCondition !== 'undefined' ? rent.returnedCondition : 'Not Returned' %></p>
                        </div>
                        <a href="/rents/<%= rent.rentID %>" class="btn btn-primary">View Details</a>
                    </div>
                </div>
            </div>
        <% } %>
    </div>
</div>

<%- include("../partials/footer.ejs"); %>